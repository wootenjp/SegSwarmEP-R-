% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/prepare_districts.R
\name{prepare_districts}
\alias{prepare_districts}
\title{Prepare school district spatial data for ACO redistricting}
\usage{
prepare_districts(
  sf_data,
  crs = 32618,
  adjacency_method = c("touches", "distance"),
  distance_threshold = NULL
)
}
\arguments{
\item{sf_data}{An \code{sf} object where each row is a school district (or local
education agency). Must contain a \code{geometry} column with polygon or
multipolygon features.}

\item{crs}{Integer EPSG code for the projected coordinate reference system
to use for distance and area calculations. Defaults to \code{32618} (UTM
Zone 18N, appropriate for New Jersey and the mid-Atlantic US). Choose a
UTM zone appropriate for your state/region.}

\item{adjacency_method}{Character. Either \code{"touches"} (default) to mark
districts as adjacent when they share a boundary, or \code{"distance"} to use
a spatial distance threshold.}

\item{distance_threshold}{Numeric. When \code{adjacency_method = "distance"},
the maximum centroid-to-centroid distance (in the units of \code{crs}, usually
metres) for two districts to be considered adjacent. Ignored when
\code{adjacency_method = "touches"}.}
}
\value{
A named list with four elements:
\describe{
\item{\code{sf_data}}{The input \code{sf} object reprojected to \code{crs} and augmented
with two new columns: \code{center_x} and \code{center_y} (centroid coordinates).}
\item{\code{adj_matrix}}{A square integer matrix of size \verb{n x n} (where \code{n}
is the number of districts). Entry \verb{[i, j]} equals 1 if districts \code{i}
and \code{j} are adjacent, 0 otherwise. The diagonal is 0.}
\item{\code{graph}}{An undirected \code{igraph} graph built from \code{adj_matrix}.}
\item{\code{search_radius}}{A numeric scalar giving a sensible default initial
search radius (in CRS units) for the ACO ants. Computed as one-third of
the larger spatial extent of the study area.}
}
}
\description{
Transforms an \code{sf} spatial data frame of school districts into the format
required by \code{\link[=aco_districting]{aco_districting()}}. This function reprojects the data, computes
district centroids, builds the geographic adjacency matrix, and constructs
the corresponding \code{igraph} graph.
}
\examples{
\dontrun{
library(sf)
# sf_nj is your sf object of NJ school districts
prep <- prepare_districts(sf_nj, crs = 32618)
str(prep)
}

}
